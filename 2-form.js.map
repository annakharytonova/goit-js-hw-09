{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n};\n\nconst LS_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nconst emailForm = form.querySelector('input[name=\"email\"]');\nconst textarea = form.querySelector('textarea');\n\nfunction saveFormData() {\n  localStorage.setItem(LS_KEY, JSON.stringify(formData));\n}\n\nfunction restoreText() {\n  const savedData = localStorage.getItem(LS_KEY);\n\n  if (savedData) {\n    const parseData = JSON.parse(savedData);\n\n    formData.message = parseData.message || '';\n    textarea.value = formData.message;\n\n    formData.email = parseData.email || '';\n    emailForm.value = formData.email;\n  }\n}\n\nrestoreText();\n\nform.addEventListener('submit', handleSubmit);\nform.addEventListener('input', onTextareaInput);\n\nfunction onTextareaInput(event) {\n  const { name, value } = event.target;\n\n  if (name in formData) {\n    formData[name] = value;\n\n    saveFormData();\n  }\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  if (!formData.email.trim() || !formData.message.trim()) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n\n  form.reset();\n  localStorage.removeItem(LS_KEY);\n  formData.email = '';\n  formData.message = '';\n}\n"],"names":["formData","LS_KEY","form","emailForm","textarea","saveFormData","restoreText","savedData","parseData","handleSubmit","onTextareaInput","event","name","value"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAS,sBAETC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAYD,EAAK,cAAc,qBAAqB,EACpDE,EAAWF,EAAK,cAAc,UAAU,EAE9C,SAASG,GAAe,CACtB,aAAa,QAAQJ,EAAQ,KAAK,UAAUD,CAAQ,CAAC,CACvD,CAEA,SAASM,GAAc,CACrB,MAAMC,EAAY,aAAa,QAAQN,CAAM,EAE7C,GAAIM,EAAW,CACb,MAAMC,EAAY,KAAK,MAAMD,CAAS,EAEtCP,EAAS,QAAUQ,EAAU,SAAW,GACxCJ,EAAS,MAAQJ,EAAS,QAE1BA,EAAS,MAAQQ,EAAU,OAAS,GACpCL,EAAU,MAAQH,EAAS,KAC5B,CACH,CAEAM,IAEAJ,EAAK,iBAAiB,SAAUO,CAAY,EAC5CP,EAAK,iBAAiB,QAASQ,CAAe,EAE9C,SAASA,EAAgBC,EAAO,CAC9B,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAE1BC,KAAQZ,IACVA,EAASY,CAAI,EAAIC,EAEjBR,IAEJ,CAEA,SAASI,EAAaE,EAAO,CAG3B,GAFAA,EAAM,eAAc,EAEhB,CAACX,EAAS,MAAM,KAAI,GAAM,CAACA,EAAS,QAAQ,OAAQ,CACtD,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EAEpBE,EAAK,MAAK,EACV,aAAa,WAAWD,CAAM,EAC9BD,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB"}